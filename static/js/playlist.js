!function(){"use strict";var e,t={6081:function(e,t,n){var r=n(2541),i=(n(2322),n(9268),n(9006),n(5090),n(3233),n(9808),n(4458),n(2004),n(8407),n(6394),n(8288),n(5677),n(2129),n(4655),n(288),n(3675),n(5101),n(3080),n(5466)),a=n(541),l=n(3613),o=n(2546),s=n(8578),u=n(4234),c=n(7642),d=n(2819),f=n(473),p=n(3074),m=n.n(p),y=n(7777);function g(e){return i.createElement(y.s,{items:e.media,playlistId:e.playlistId,hidePlaylistOptions:e.hidePlaylistOptions,singleLinkContent:!0,hideDate:!0,hideViews:!0,hidePlaylistOrderNumber:!1,horizontalItemsOrientation:!0,itemsCountCallback:e.itemsCountCallback,itemsLoadCallback:e.itemsLoadCallback,pageItems:99999,inPlaylistPage:!0})}function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?S(e):t}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}g.propTypes={media:m().array.isRequired,playlistId:m().string.isRequired,itemsCountCallback:m().func,itemsLoadCallback:m().func,hidePlaylistOptions:m().bool},g.defaultProps={hidePlaylistOptions:!0};var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(u,e);var t,n,r,o,s=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=E(r);if(o){var n=E(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return P(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=s.call(this,e)).state={media:e.media},t.containerRef=i.createRef(),t.onItemsLoad=t.onItemsLoad.bind(S(t)),t}return t=u,(n=[{key:"onItemsLoad",value:function(){if(this.props.loggedinUserPlaylist){var e=this.containerRef.current.querySelector(".items-list");if(e){var t=this.props.id,n=function(e){return this.state.media[e]}.bind(this),r=function(e){for(var t=this,n=[],r=0;r<e.length;)n.push(this.state.media[e[r]]),r+=1;this.setState({media:n},(function(){a.PlaylistPageActions.reorderedMediaInPlaylist(t.state.media)}))}.bind(this);d.ZP.create(e,{onStart:function(t){e.classList.add("on-dragging")},onEnd:function(a){for(var s,u,c,d=[],p=e.querySelectorAll(".item-order-number div div"),m=0;m<p.length;)(u=m+1)!==(s=parseInt(p[m].getAttribute("data-order"),10))&&(c=n(s-1).friendly_token,(0,f.putRequest)(l.ApiUrlContext._currentValue.playlists+"/"+t,{type:"ordering",ordering:u,media_friendly_token:c},{headers:{"X-CSRFToken":(0,f.csrfToken)()}},!1,i,o)),d.push(s-1),p[m].setAttribute("data-order",u),p[m].innerHTML=u,m+=1;e.classList.remove("on-dragging"),r(d)}})}}function i(e){}function o(e){}}},{key:"render",value:function(){return i.createElement("div",{ref:this.containerRef,className:"playlist-videos-list"+(this.props.loggedinUserPlaylist?" draggable":"")},this.state.media.length?i.createElement(g,{itemsLoadCallback:this.onItemsLoad,playlistId:this.props.id,media:this.state.media,hidePlaylistOptions:!this.props.loggedinUserPlaylist}):null)}}])&&b(t.prototype,n),u}(i.PureComponent),w=n(8204);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?I(e):t}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],l=!0,o=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);l=!0);}catch(e){o=!0,i=e}finally{try{l||null==n.return||n.return()}finally{if(o)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?N(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}if(window.MediaCMS.site.devEnv){var L=function(){var e=null,t=null,n=window.location.search.split("?")[1];return n&&n.split("&").forEach((function(n){0===n.indexOf("m=")?e=n.split("m=")[1]:0===n.indexOf("pl=")&&(t=n.split("pl=")[1])})),{mediaId:e,playlistId:t}}().playlistId;L&&(window.MediaCMS.playlistId=L)}function j(e){var t=e.media[0].url;return window.MediaCMS.site.devEnv&&-1<t.indexOf("view?")&&(t="/media.html?"+t.split("view?")[1]),t+="&pl="+e.id,e.media&&e.media.length?i.createElement("a",{href:t,title:""},e.children):i.createElement("span",null,e.children)}function T(e){var t=A((0,i.useState)(null),2),n=t[0],r=t[1];return(0,i.useEffect)((function(){if(e.thumb&&"string"==typeof e.thumb){var t=e.thumb.trim();r(""!==t?t:null)}else r(null)}),[e.thumb]),i.createElement("div",{className:"playlist-thumb"+(n?"":" no-thumb"),style:{backgroundImage:'url("'+n+'")'}},i.createElement(j,{id:e.id,media:e.media},i.createElement("span",null,n?i.createElement("img",{src:n,alt:""}):null,i.createElement("span",{className:"play-all"},i.createElement("span",null,i.createElement("span",null,i.createElement("i",{className:"material-icons"},"play_arrow"),i.createElement("span",{className:"play-all-label"},"PLAY ALL")))))))}function U(e){return i.createElement("div",{className:"playlist-title"},i.createElement("h1",null,e.title))}function x(e){return i.createElement("div",{className:"playlist-meta"},i.createElement("div",{className:"playlist-videos-number"},e.totalItems," media"),e.dateLabel?i.createElement("div",{className:"playlist-last-update"},e.dateLabel):null)}function q(e){var t,n,r=A((0,o.usePopup)(),3),l=r[0],s=r[1],c=r[2],d=A((0,i.useState)("main"),2),f=d[0],p=d[1];return i.createElement("div",{className:"playlist-options-wrap"+("main"===f?" playlist-options-main":"")},i.createElement(c,{contentRef:l},i.createElement(u.CircleIconButton,null,i.createElement(u.MaterialIcon,{type:"more_horiz"}))),i.createElement(s,{contentRef:l},i.createElement(u.NavigationContentApp,{pageChangeCallback:p,initPage:"main",focusFirstItemOnPageChange:!1,pages:(t=function(){a.PlaylistPageActions.removePlaylist(),l.current.toggle()},n=function(){l.current.toggle()},{main:i.createElement(u.PopupMain,null,i.createElement(u.NavigationMenuList,{items:[{itemType:"open-subpage",text:"Delete",icon:"delete",buttonAttr:{className:"change-page","data-page-id":"proceedPlaylistRemovalPopup"}}]})),proceedPlaylistRemovalPopup:i.createElement(u.PopupMain,null,i.createElement("div",{className:"popup-message"},i.createElement("span",{className:"popup-message-title"},"Playlist removal"),i.createElement("span",{className:"popup-message-main"},"You're willing to remove playlist permanently?")),i.createElement("hr",null),i.createElement("span",{className:"popup-message-bottom"},i.createElement("button",{className:"button-link cancel-playlist-removal",onClick:n},"CANCEL"),i.createElement("button",{className:"button-link proceed-playlist-removal",onClick:t},"PROCEED")))}),pageChangeSelector:".change-page",pageIdSelectorAttr:"data-page-id"})))}function V(e){var t=A((0,o.usePopup)(),3),n=t[0],r=t[1],d=t[2];function f(){n.current.toggle()}function p(e){setTimeout((function(){a.PageActions.addNotification("Playlist updated","playlistUpdateCompleted"),f()}),100)}function m(){setTimeout((function(){a.PageActions.addNotification("Playlist update failed","playlistUpdateFailed"),f()}),100)}function y(e){setTimeout((function(){a.PageActions.addNotification("Playlist removed. Redirecting...","playlistDelete"),setTimeout((function(){window.location.href=l.MemberContext._currentValue.pages.playlists}),2e3)}),100)}function g(e){setTimeout((function(){a.PageActions.addNotification("Playlist removal failed","playlistDeleteFail")}),100)}return(0,i.useEffect)((function(){return s.PlaylistPageStore.on("playlist_update_completed",p),s.PlaylistPageStore.on("playlist_update_failed",m),s.PlaylistPageStore.on("playlist_removal_completed",y),s.PlaylistPageStore.on("playlist_removal_failed",g),function(){s.PlaylistPageStore.removeListener("playlist_update_completed",p),s.PlaylistPageStore.removeListener("playlist_update_failed",m),s.PlaylistPageStore.removeListener("playlist_removal_completed",y),s.PlaylistPageStore.removeListener("playlist_removal_failed",g)}}),[]),i.createElement("div",{className:"edit-playlist"},i.createElement(d,{contentRef:n},i.createElement(u.CircleIconButton,null,i.createElement(u.MaterialIcon,{type:"edit"}),i.createElement("span",null,"EDIT"))),i.createElement(r,{contentRef:n},i.createElement("div",{className:"popup-fullscreen"},i.createElement(u.PopupMain,null,i.createElement("span",{className:"popup-fullscreen-overlay"}),i.createElement("div",{className:"edit-playlist-form-wrap"},i.createElement("div",{className:"edit-playlist-popup-title"},"Edit playlist",i.createElement(u.CircleIconButton,{type:"button",onClick:f},i.createElement(u.MaterialIcon,{type:"close"}))),i.createElement(c.A,{date:(new Date).getTime(),id:s.PlaylistPageStore.get("playlistId"),onCancel:f,onPlaylistSave:function(){}}))))))}function D(e){return e.loggedinUserPlaylist?i.createElement("div",{className:"playlist-actions"},e.loggedinUserPlaylist?i.createElement(q,null):null):null}function B(e){return i.createElement("div",{className:"playlist-author"},i.createElement("div",null,i.createElement("div",{className:"playlist-author-thumb"},i.createElement("a",{href:e.link,title:e.name},e.thumb?i.createElement("span",{style:{backgroundImage:"url("+e.thumb+")"}},i.createElement("img",{src:e.thumb,alt:""})):i.createElement("span",null,i.createElement(u.MaterialIcon,{type:"person"})))),i.createElement("div",{className:"playlist-author-name"},i.createElement("a",{href:e.link,title:e.name},e.name)),e.loggedinUserPlaylist?i.createElement(V,null):null))}var F=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(u,e);var t,n,r,l,o=(r=u,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=R(r);if(l){var n=R(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return O(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=o.call(this,e,"playlist-page")).state={thumb:s.PlaylistPageStore.get("thumb"),media:s.PlaylistPageStore.get("playlist-media"),savedPlaylist:s.PlaylistPageStore.get("saved-playlist"),loggedinUserPlaylist:s.PlaylistPageStore.get("logged-in-user-playlist"),title:s.PlaylistPageStore.get("title"),description:s.PlaylistPageStore.get("description")},t.onLoadPlaylistData=t.onLoadPlaylistData.bind(I(t)),s.PlaylistPageStore.on("loaded_playlist_data",t.onLoadPlaylistData),t.onMediaRemovedFromPlaylist=t.onMediaRemovedFromPlaylist.bind(I(t)),s.PlaylistPageStore.on("removed_media_from_playlist",t.onMediaRemovedFromPlaylist),t.onMediaReorderedInPlaylist=t.onMediaReorderedInPlaylist.bind(I(t)),s.PlaylistPageStore.on("reordered_media_in_playlist",t.onMediaReorderedInPlaylist),t.onCompletePlaylistUpdate=t.onCompletePlaylistUpdate.bind(I(t)),s.PlaylistPageStore.on("playlist_update_completed",t.onCompletePlaylistUpdate),t}return t=u,(n=[{key:"onCompletePlaylistUpdate",value:function(){this.setState({thumb:s.PlaylistPageStore.get("thumb"),title:s.PlaylistPageStore.get("title"),description:s.PlaylistPageStore.get("description")})}},{key:"onLoadPlaylistData",value:function(){this.setState({thumb:s.PlaylistPageStore.get("thumb"),title:s.PlaylistPageStore.get("title"),description:s.PlaylistPageStore.get("description"),media:s.PlaylistPageStore.get("playlist-media"),savedPlaylist:s.PlaylistPageStore.get("saved-playlist"),loggedinUserPlaylist:s.PlaylistPageStore.get("logged-in-user-playlist")})}},{key:"componentDidMount",value:function(){a.PlaylistPageActions.loadPlaylistData()}},{key:"onMediaRemovedFromPlaylist",value:function(){this.setState({media:s.PlaylistPageStore.get("playlist-media"),thumb:s.PlaylistPageStore.get("thumb")})}},{key:"onMediaReorderedInPlaylist",value:function(){this.setState({media:s.PlaylistPageStore.get("playlist-media"),thumb:s.PlaylistPageStore.get("thumb")})}},{key:"pageContent",value:function(){var e=s.PlaylistPageStore.get("playlistId");return e?[i.createElement("div",{key:"playlistDetails",className:"playlist-details"},i.createElement(T,{id:e,thumb:this.state.thumb,media:this.state.media}),i.createElement(U,{title:this.state.title}),i.createElement(x,{totalItems:s.PlaylistPageStore.get("total-items"),dateLabel:s.PlaylistPageStore.get("date-label"),viewsCount:s.PlaylistPageStore.get("views-count")}),i.createElement(D,{loggedinUserPlaylist:this.state.loggedinUserPlaylist,savedPlaylist:this.state.savedPlaylist}),this.state.description?i.createElement("div",{className:"playlist-description"},this.state.description):null,i.createElement(B,{name:s.PlaylistPageStore.get("author-name"),link:s.PlaylistPageStore.get("author-link"),thumb:s.PlaylistPageStore.get("author-thumb"),loggedinUserPlaylist:this.state.loggedinUserPlaylist})),i.createElement(k,{key:"playlistMediaList_"+this.state.media.length,id:e,media:this.state.media,loggedinUserPlaylist:this.state.loggedinUserPlaylist})]:null}}])&&C(t.prototype,n),u}(w.T);(0,r.X)("page-playlist",F)},4234:function(e,t,n){n.d(t,{CircleIconButton:function(){return r.M},MaterialIcon:function(){return i.O},NavigationContentApp:function(){return a.o},NavigationMenuList:function(){return l.S},Notifications:function(){return o.T},PopupMain:function(){return s.W8},PopupTop:function(){return s.HF},SpinnerLoader:function(){return u.i},UserThumbnail:function(){return c.q}});var r=n(7714),i=(n(7446),n(2915),n(2299)),a=n(2917),l=n(5671),o=n(2436),s=(n(5517),n(940)),u=n(6309),c=n(6142)},5517:function(e,t,n){n(2004),n(8407),n(6394),n(8288),n(5677),n(2129),n(4655),n(288),n(4458),n(3675),n(5466);var r=n(3074),i=n.n(r);i().string,i().array.isRequired,i().string,i().number,i().number,i().number,i().func,i().func},6142:function(e,t,n){n.d(t,{q:function(){return u}});var r=n(5466),i=n(3074),a=n.n(i),l=n(9747),o=n(7714),s=n(2299);function u(e){var t=(0,l.useUser)().thumbnail,n={"aria-label":"Account profile photo that opens list of options and settings pages links",className:"thumbnail"};switch(e.isButton?void 0!==e.onClick&&(n.onClick=e.onClick):n.type="span",e.size){case"small":case"large":n.className+=" "+e.size+"-thumb"}return r.createElement(o.M,n,t?r.createElement("img",{src:t,alt:""}):r.createElement(s.O,{type:"person"}))}u.propTypes={isButton:a().bool,size:a().oneOf(["small","medium","large"]),onClick:a().func},u.defaultProps={isButton:!1,size:"medium"}},8727:function(e,t,n){n.d(t,{Y7:function(){return c}}),n(2322),n(3296),n(6394),n(4669),n(717),n(5677),n(2129),n(4655),n(6453),n(9006);var r=n(5466),i=n(3074),a=n.n(i),l=n(137),o=n.n(l),s=n(8009),u=n.n(s);function c(e){var t=(0,r.useRef)(null),n=null,i={playerVolume:e.playerVolume,playerSoundMuted:e.playerSoundMuted,videoQuality:e.videoQuality,videoPlaybackSpeed:e.videoPlaybackSpeed,inTheaterMode:e.inTheaterMode};function a(){void 0!==e.onClickNextCallback&&e.onClickNextCallback()}function l(){void 0!==e.onClickPreviousCallback&&e.onClickPreviousCallback()}function s(t){i.playerVolume!==t.volume&&(i.playerVolume=t.volume),i.playerSoundMuted!==t.soundMuted&&(i.playerSoundMuted=t.soundMuted),i.videoQuality!==t.quality&&(i.videoQuality=t.quality),i.videoPlaybackSpeed!==t.playbackSpeed&&(i.videoPlaybackSpeed=t.playbackSpeed),i.inTheaterMode!==t.theaterMode&&(i.inTheaterMode=t.theaterMode),void 0!==e.onStateUpdateCallback&&e.onStateUpdateCallback(t)}function c(){if(null===n&&null===e.errorMessage&&(e.inEmbed||(window.removeEventListener("focus",c),document.removeEventListener("visibilitychange",c)),t.current)){e.inEmbed||t.current.focus();var r,d,f,p={on:!1};if(void 0!==e.subtitlesInfo&&null!==e.subtitlesInfo&&e.subtitlesInfo.length){p.languages=[];for(var m=0;m<e.subtitlesInfo.length;)void 0!==e.subtitlesInfo[m].src&&void 0!==e.subtitlesInfo[m].srclang&&void 0!==e.subtitlesInfo[m].label&&p.languages.push({src:(r=e.subtitlesInfo[m].src,d=e.siteUrl,f=void 0,f=o()(r,{}),""!==f.origin&&"null"!==f.origin&&f.origin||(f=o()(d+"/"+r.replace(/^\//g,""),{})),f.toString()),srclang:e.subtitlesInfo[m].srclang,label:e.subtitlesInfo[m].label}),m+=1;p.languages.length&&(p.on=!0)}n=new(u())(t.current,{enabledTouchControls:!0,sources:e.sources,poster:e.poster,autoplay:e.enableAutoplay,bigPlayButton:!0,controlBar:{theaterMode:e.hasTheaterMode,pictureInPicture:!1,next:!!e.hasNextLink,previous:!!e.hasPreviousLink},subtitles:p,cornerLayers:e.cornerLayers,videoPreviewThumb:e.previewSprite},{volume:i.playerVolume,soundMuted:i.playerSoundMuted,theaterMode:i.inTheaterMode,theSelectedQuality:void 0,theSelectedPlaybackSpeed:i.videoPlaybackSpeed||1},e.info,[.25,.5,.75,1,1.25,1.5,1.75,2],s,a,l),void 0!==e.onPlayerInitCallback&&e.onPlayerInitCallback(n,t.current)}}return i.playerVolume=null===i.playerVolume?1:Math.max(Math.min(Number(i.playerVolume),1),0),i.playerSoundMuted=null!==i.playerSoundMuted&&i.playerSoundMuted,i.videoQuality=null!==i.videoQuality?i.videoQuality:"Auto",i.videoPlaybackSpeed=null!==i.videoPlaybackSpeed&&i.videoPlaybackSpeed,i.inTheaterMode=null!==i.inTheaterMode&&i.inTheaterMode,(0,r.useEffect)((function(){return e.inEmbed||document.hasFocus()||"visible"===document.visibilityState?c():(window.addEventListener("focus",c),document.addEventListener("visibilitychange",c)),n&&n.player.one("loadedmetadata",(function(){var e=new URLSearchParams(window.location.search),t=Number(e.get("t")),r=isNaN(t)?0:t;n.player.currentTime(r)})),function(){null!==n&&(videojs(t.current).dispose(),n=null),void 0!==e.onUnmountCallback&&e.onUnmountCallback()}}),[]),null===e.errorMessage?r.createElement("video",{ref:t,className:"video-js vjs-mediacms native-dimensions"}):r.createElement("div",{className:"error-container"},r.createElement("div",{className:"error-container-inner"},r.createElement("span",{className:"icon-wrap"},r.createElement("i",{className:"material-icons"},"error_outline")),r.createElement("span",{className:"msg-wrap"},e.errorMessage)))}a().string.isRequired,c.propTypes={playerVolume:a().string,playerSoundMuted:a().bool,videoQuality:a().string,videoPlaybackSpeed:a().number,inTheaterMode:a().bool,siteId:a().string.isRequired,siteUrl:a().string.isRequired,errorMessage:a().string,cornerLayers:a().object,subtitlesInfo:a().array.isRequired,inEmbed:a().bool.isRequired,sources:a().array.isRequired,info:a().object.isRequired,enableAutoplay:a().bool.isRequired,hasTheaterMode:a().bool.isRequired,hasNextLink:a().bool.isRequired,hasPreviousLink:a().bool.isRequired,poster:a().string,previewSprite:a().object,onClickPreviousCallback:a().func,onClickNextCallback:a().func,onPlayerInitCallback:a().func,onStateUpdateCallback:a().func,onUnmountCallback:a().func},c.defaultProps={errorMessage:null,cornerLayers:{}}},160:function(e,t,n){n.d(t,{R:function(){return g}}),n(2322),n(9268),n(9751),n(2004),n(8407),n(6394),n(8288),n(5677),n(2129),n(4655),n(288),n(4458),n(3675);var r=n(5466),i=n(3074),a=n.n(i),l=n(137),o=n.n(l),s=n(3613),u=n(473),c=n(9722),d=n(9905),f=n(8727),p=n(1283);function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],l=!0,o=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);l=!0);}catch(e){o=!0,i=e}finally{try{l||null==n.return||n.return()}finally{if(o)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e){var t=(0,r.useContext)(s.ApiUrlContext),n=(0,r.useContext)(s.SiteContext),i=m((0,r.useState)(null),2),a=(i[0],i[1]),l=m((0,r.useState)(null),2),y=l[0],g=l[1],v=m((0,r.useState)(null),2),b=v[0],h=v[1],P=m((0,r.useState)([]),2),S=P[0],E=P[1],k=m((0,r.useState)({}),2),w=k[0],_=k[1],C=m((0,r.useState)([]),2),M=C[0],O=C[1],I=m((0,r.useState)({}),2),R=I[0],A=I[1],N={videoQuality:new c.BrowserCache(n.id,86400).get("video-quality")};N.videoQuality=null!==N.videoQuality?N.videoQuality:"Auto";var L,j=null,T=null,U=null,x=((L=new(o())(e.pageLink).query)?((L=L.substring(1)).split("&"),L=L.length?L.split("="):[]):L=[],L);if(x.length)for(var q=0;q<x.length;)"m"===x[q]&&(U=x[q+1]),q+=2;function V(e){if(void 0!==e&&e&&void 0!==e.data&&e.data){var t,r;T=e.data;var i=[],l=null,o=(0,d.RA)(T.encodings_info,T.hls_info),s=null,c=null;if("string"==typeof T.poster_url?l=(0,u.formatInnerLink)(T.poster_url,n.url):"string"==typeof T.thumbnail_url&&(l=(0,u.formatInnerLink)(T.thumbnail_url,n.url)),Object.keys(o).length){var f=(0,d.KC)(),m=N.videoQuality;(null===m||"Auto"===m&&void 0===o.Auto)&&(m=720);var y=(0,d.$e)(m,o);for("Auto"===m&&void 0!==o.Auto&&i.push({src:o.Auto.url[0]}),r=0;r<o[y].format.length;){if("hls"===o[y].format[r]){i.push({src:o[y].url[r]});break}r+=1}for(r in T.encodings_info[y])T.encodings_info[y].hasOwnProperty(r)&&f.support[r]&&(t=T.encodings_info[y][r].url)&&(t=(0,u.formatInnerLink)(t,n.url),i.push({src:t,encodings_status:T.encodings_info[y][r].status}))}else o=null;if(1===i.length&&"running"===i[0].encodings_status&&(s="encodingRunning",c="Media encoding is currently running. Try again in few minutes."),null!==s)switch(s){case"encodingRunning":case"encodingPending":case"encodingFailed":break;default:p.warn("VIDEO DEBUG:","Video files don't exist")}a(s),g(c),h(l),E(i),_(o),O(T.subtitles_info),A(T.sprites_url?{url:(0,u.formatInnerLink)(T.sprites_url,n.url),frame:{width:160,height:90,seconds:10}}:null);var v=document.querySelector(".feat-first-item .item .item-description > div");v&&(v.innerHTML=T.summary)}}function D(e){if(void 0!==e&&void 0!==e.type)switch(e.type){case"network":case"private":case"unavailable":a(e.type),g(void 0!==e.message?e.message:"Αn error occurred while loading the media's data")}}return null!==U&&(j=t.media+"/"+U),(0,r.useEffect)((function(){null!==j&&(0,u.getRequest)(j,!1,V,D)}),[]),S.length?r.createElement("div",{className:"video-player"},r.createElement(f.Y7,{siteId:n.id,siteUrl:n.url,info:w,sources:S,poster:b,previewSprite:R,subtitlesInfo:M,enableAutoplay:!1,inEmbed:!1,hasTheaterMode:!1,hasNextLink:!1,hasPreviousLink:!1,errorMessage:y})):null}g.propTypes={pageLink:a().string.isRequired}},8204:function(e,t,n){n.d(t,{T:function(){return f}}),n(5101),n(3080),n(2004),n(8407),n(6394),n(8288),n(5677),n(2129),n(4655);var r=n(5466),i=n(541),a=n(6191),l=n(4234);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(m,e);var t,n,o,f,p=(o=m,f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=d(o);if(f){var n=d(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return c(this,e)});function m(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m),n=p.call(this,e),void 0!==t&&i.PageActions.initPage(t),n}return t=m,(n=[{key:"render",value:function(){return r.createElement(r.Fragment,null,r.createElement(a.PageMain,null,this.pageContent()),r.createElement(l.Notifications,null))}}])&&s(t.prototype,n),m}(r.PureComponent)},473:function(e,t,n){n.d(t,{BrowserEvents:function(){return r.Jj},addClassname:function(){return r.Ec},cancelAnimationFrame:function(){return r.Wx},hasClassname:function(){return r.mO},removeClassname:function(){return r.dt},requestAnimationFrame:function(){return r.U7},supportsSvgAsImg:function(){return r.Je},logErrorAndReturnError:function(){return i.O},logWarningAndReturnError:function(){return i.a},exportStore:function(){return a.Z},formatInnerLink:function(){return l.U},formatViewsNumber:function(){return o.Z},csrfToken:function(){return s.o},imageExtension:function(){return u.s},greaterCommonDivision:function(){return c.$A},isPositiveIntegerOrZero:function(){return c.ZU},PositiveInteger:function(){return d.n},PositiveIntegerOrZero:function(){return d.g},publishedOnDate:function(){return f.Z},quickSort:function(){return p.U},deleteRequest:function(){return m.Jl},getRequest:function(){return m.A_},postRequest:function(){return m.j0},putRequest:function(){return m.GH}});var r=n(1454),i=n(9039),a=n(9264),l=n(1397),o=n(705),s=n(1450),u=n(2161),c=(n(4646),n(408)),d=n(5477),f=n(2276),p=n(3803),m=n(447)},541:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.VideoViewerActions=t.SearchFieldActions=t.ProfilePageActions=t.PlaylistViewActions=t.PlaylistPageActions=t.PageActions=t.MediaPageActions=void 0,t.MediaPageActions=a(n(979)),t.PageActions=a(n(6613)),t.PlaylistPageActions=a(n(5880)),t.PlaylistViewActions=a(n(9660)),t.ProfilePageActions=a(n(2472)),t.SearchFieldActions=a(n(2600)),t.VideoViewerActions=a(n(5464))},8578:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.VideoViewerStore=t.SearchFieldStore=t.ProfilePageStore=t.PlaylistViewStore=t.PlaylistPageStore=t.PageStore=t.MediaPageStore=void 0;var i=r(n(337));t.MediaPageStore=i.default;var a=r(n(7959));t.PageStore=a.default;var l=r(n(1566));t.PlaylistPageStore=l.default;var o=r(n(1439));t.PlaylistViewStore=o.default;var s=r(n(8024));t.ProfilePageStore=s.default;var u=r(n(7359));t.SearchFieldStore=u.default;var c=r(n(5641));t.VideoViewerStore=c.default}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var a=n[e]={exports:{}};return t[e].call(a.exports,a,a.exports,r),a.exports}r.m=t,e=[],r.O=function(t,n,i,a){if(!n){var l=1/0;for(u=0;u<e.length;u++){n=e[u][0],i=e[u][1],a=e[u][2];for(var o=!0,s=0;s<n.length;s++)(!1&a||l>=a)&&Object.keys(r.O).every((function(e){return r.O[e](n[s])}))?n.splice(s--,1):(o=!1,a<l&&(l=a));o&&(e.splice(u--,1),t=i())}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[n,i,a]},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.j=449,function(){var e={449:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var i,a,l=n[0],o=n[1],s=n[2],u=0;for(i in o)r.o(o,i)&&(r.m[i]=o[i]);if(s)var c=s(r);for(t&&t(n);u<l.length;u++)a=l[u],r.o(e,a)&&e[a]&&e[a][0](),e[l[u]]=0;return r.O(c)},n=self.webpackChunkmediacms_frontend=self.webpackChunkmediacms_frontend||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var i=r.O(void 0,[431],(function(){return r(6081)}));i=r.O(i)}();